<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" ><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en" ><!--<![endif]-->

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Christopher Thomson</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://christopherthomson.github.io/theme/css/foundation.min.css" />
    <link rel="stylesheet" href="https://christopherthomson.github.io/theme/css/pelican-foundation.css" />
    <script src="https://christopherthomson.github.io/theme/js/vendor/custom.modernizr.js"></script>

</head>

<body>
    <!-- nav bar -->
    <div class="row">
        <div class="large-3 columns">
            <figure id="user_logo">
                <a href="https://christopherthomson.github.io"><div class="logo"><img src="https://christopherthomson.github.io/theme/img/giraffe2.png" alt="Christopher Thomson"></div></a>
            </figure>
        </div>
        <div class="large-8 columns panel">
            <ul class="inline-list right">
                        <li><a href="https://christopherthomson.github.io/pages/about.html">About</a></li>
                        <li><a href="https://christopherthomson.github.io/pages/projects.html">Projects</a></li>
                        <li><a href="https://christopherthomson.github.io/pages/teaching.html">Teaching</a></li>
            </ul>
        </div>
    </div>

    <div class="row">
        <!-- author information/sidebar -->
        <div class="large-4 columns">
            <h2 class="subheader"><small>Christopher Thomson</small></h1>
            <p class="hide-for-small">Writings and other morsels...</p>

        </div>

        <!-- main content -->
        <div class="large-8 columns">
        <article>
            <h2 class="title">Mapping Lost&nbsp;Christchurch <small><a href="https://christopherthomson.github.io/mapping-lost-christchurch.html" rel="bookmark" title="Permalink to Mapping Lost Christchurch">&para;</small></a>
            </h2>
            <div class="entry-content"><p>Here&#8217;s a map of the countries I&#8217;ve either lived in or travelled through for a month or&nbsp;more.</p>
<div id="map" style="height: 440px; border: 1px solid #AAA;"></div></div>
            <p>
                <small>
                    Written on <time datetime="2015-02-19T00:00:00" pubdate>Thu 19 February 2015</time>.
                </small>
            </p>
        </article>
        <article>
            <h2 class="title">National Digital Forum BarCamp Christchurch, 5&nbsp;July <small><a href="https://christopherthomson.github.io/ndf-barcamp-christchurch-5-july.html" rel="bookmark" title="Permalink to National Digital Forum BarCamp Christchurch, 5 July">&para;</small></a>
            </h2>
            <div class="entry-content"><p>Last Friday I had the privilege to coordinate one of the <a href="http://www.ndf.org.nz/" title="National Digital Forum">National
Digital Forum</a>&#8216;s regional <a href="http://www.ndf.org.nz/regions/" title="barcamps">barcamps</a>. These events are aimed at
increasing connections and participation amongst people active in
digital culture and heritage in New Zealand, and ours brought together
more than thirty librarians, archivists, art gallery / curator folks and
a variety of others for a morning of diverse and interesting debate. We
also had a great special guest, Michael Lascarides of the National
Library of New Zealand, who outlined a few elements of his philosophy on
doing work in the digital world with particular reference to interaction
design and&nbsp;crowdsourcing.</p>
<p>As the event organiser, I was often on the periphery of the breakout
group discussions, but I got to hear some wonderful fragments. The
session topics ranged from familiar information management issues, such
as &#8220;Making Linked Open Data Easier&#8221; and &#8220;Archiving &#8216;copyright unknown&#8217;
material&#8221;, to the tech cutting edge in &#8220;Google Glass <span class="amp">&amp;</span> Society&#8221;, to the
wide-ranging and philosophically challenging back-and-forth in &#8220;Piracy
as a Force for Good&#8221;. It was great to see that our participants were
quite vocal and keen to debate some complex issues. In fact, I struggled
to break up some groups as each session drew to a&nbsp;close!</p>
<p>The value of these barcamps is that they help break down barriers
between people working on similar projects and problems in different
institutions. I&#8217;ve been to a couple of &#8216;unconferences&#8217; now, and it has
been my experience that it can be very satisfying to discuss these sorts
of things outside of the usual framework of the conference presentation,
where we tend to show just the best or most &#8216;original&#8217; aspects of work
we&#8217;ve done, rather than compare notes on a lot of the common issues and
challenges we are all interested in. The barcamp format also makes it
easier to talk about things you have only just begun learning or only
recently discovered as it doesn&#8217;t require anyone to be an expert.  It
can be hard to have these sorts of conversations outside your own
limited sphere, so I hope we can find ways to hold more of this type of
event in&nbsp;future.</p>
<p>Notes from some of the sessions have been collated <a href="http://bit.ly/13x0npI" title="here">here</a>.</p>
<p>Many thanks to all who participated for making it such a lively and
rewarding&nbsp;morning.</p></div>
            <p>
                <small>
                    Written on <time datetime="2013-07-12T10:04:00" pubdate>Fri 12 July 2013</time>.
                </small>
            </p>
        </article>
        <article>
            <h2 class="title">DigitalNZ search with&nbsp;XQuery <small><a href="https://christopherthomson.github.io/using-xquery-with-the-digitalnz-api.html" rel="bookmark" title="Permalink to DigitalNZ search with XQuery">&para;</small></a>
            </h2>
            <div class="entry-content"><p>I decided I wanted to add an external search function as part of the
<a href="http://christopherthomson.co.nz/blog/?p=68" title="bibliography">bibliography</a> I&#8217;m working on, and a <a href="http://www.digitalnz.org" title="DigitalNZ">DigitalNZ</a> search seemed to be
the obvious choice.  XQuery makes this really easy, and I&#8217;m surprised it
doesn&#8217;t feature on their <a href="http://www.digitalnz.org/developers/code-samples-and-libraries" title="list of code samples">list of code samples</a>.  Possibly it is so
straightforward that an example isn&#8217;t&nbsp;necessary.</p>
<p>I wanted a list of results for each author in the bibliography, broken
down according to content provider offering those results. This can be
grabbed by specifying <code>facets=content\_partner</code> in the query string.  All
the work is done by the XQuery doc() function in the third line below -
everything else is&nbsp;presentation.</p>
<p>[[ gist christopherthomson:3943734&nbsp;]]</p></div>
            <p>
                <small>
                    Written on <time datetime="2013-03-11T08:18:00" pubdate>Mon 11 March 2013</time>.
                </small>
            </p>
        </article>
        <article>
            <h2 class="title">quotes, curly and&nbsp;otherwise <small><a href="https://christopherthomson.github.io/quotes-curly-and-otherwise.html" rel="bookmark" title="Permalink to quotes, curly and otherwise">&para;</small></a>
            </h2>
            <div class="entry-content"><p>Part 2 of my bibliographic data transformation is proving quite
interesting. I&#8217;ve started work on constructing the <span class="caps">TEI</span> biblStruct
elements I&#8217;ll need, and now my half-serious aim of using only XQuery
throughout the process is looking a more than a little naive. <span class="caps">XSLT</span>
breezes through some types of problems that had me stumped for long
periods trying to achieve the same result in XQuery. Anyway, the post on
that topic is still to&nbsp;come.</p>
<p>However, having realised late in the game that I need to replace all my
curly quotes with straight quotes, and having seen most discussion on
the topic suggest this would be difficult using <span class="caps">XSLT</span>, I was stoked to
find <a href="http://zirkel.com/blog/2008/04/21/how-to-get-smart-curly-quotes-using-the-keyboard-in-mac-osx/" title="this little gem">this little gem</a> for <span class="caps">OS</span> X&nbsp;users.</p>
<p>Find/Replace.&nbsp;Done.</p></div>
            <p>
                <small>
                    Written on <time datetime="2012-08-18T11:03:00" pubdate>Sat 18 August 2012</time>.
                </small>
            </p>
        </article>
        <article>
            <h2 class="title">XQuery: docx to <span class="caps">TEI</span> (part&nbsp;1) <small><a href="https://christopherthomson.github.io/xquery-docx-to-tei-part-1.html" rel="bookmark" title="Permalink to XQuery: docx to TEI (part 1)">&para;</small></a>
            </h2>
            <div class="entry-content"><p>I&#8217;m working on converting a large bibliography&nbsp;from Microsoft Word docx
format to <span class="caps">TEI</span>. &nbsp;<a class="reference external" href="http://christopherthomson.co.nz/blog/?p=68">A few months ago</a> I was pretty certain I&#8217;d be
approaching this with a manual process, mostly because of the difficulty
of constructing divs for each type of bibliography entry and other
structured sections. But Word styles and <a class="reference external" href="http://oxgarage.oucs.ox.ac.uk:8080/ege-webclient/">OxGarage</a> makes it possible
to convert from docx to <span class="caps">TEI</span> with enough structure that most of the
difficulties I saw then can be&nbsp;overcome.</p>
<p>Luckily, the original document had an index of authors which marked the
start of each entry, and styles had been applied fairly consistently to
distinguish headings, annotations and citations. Here&#8217;s an example of
the structure of the entry I wanted to&nbsp;isolate:</p>
<p><tt class="docutils literal"><span class="pre">[gist]http://gist.github.com/3606192[/gist]</span></tt></p>
<p>The problem is that there&#8217;s no tag to define where this entry ends - it
just lists another paragraph containing an author name and so on. The
first step needed was to go from an &#8216;anchor&#8217; marking the start - in this
case I used the index element - to a complete <span class="caps">XML</span> element wrapping each
author&#8217;s entry.&nbsp; Google turned up <a class="reference external" href="http://stackoverflow.com/questions/6865667/xpath-flat-hierarchy-and-stop-condition">a rather complex piece of XQuery</a> to
solve the&nbsp;problem.</p>
<p>This required very little adjustment to get the result I was after. I
just changed the selection of the $childs and tweaked the formula used
within the element constructor to ensure the first paragraph was&nbsp;included.</p>
<p>The next step was to split the file into a collection of separate files,
one for each entry. &nbsp;Again, the work has been <a class="reference external" href="http://en.wikibooks.org/wiki/XQuery/Splitting_Files">done and documented</a>.</p>
<p>This worked well with only a couple of small changes to the element
constructor from the example given: 1) I added the suggested $count to
generate a numbered filename, and 2) I needed to remove some stray
whitespace in the element I used for the entry name, using
fn:normalize-space(text()). I ran the query in the browser rather than
in oXygen 12.2, as I couldn&#8217;t get oXygen to recognise the xmldb
namespace needed for this code (this seems to be because oXygen was
using Saxon rather than eXist to parse the XQuery, despite the
Preferences saying it should use eXist). The element constructor to be
returned looked like&nbsp;this:</p>
<p>[gist]https://gist.github.com/3606928[/gist]</p>
<p>The next step will be creating some more structure with div and
biblStruct elements, and then I&#8217;ll need to pull apart the citations&nbsp;themselves.</p>
</div>
            <p>
                <small>
                    Written on <time datetime="2012-07-01T22:02:00" pubdate>Sun 01 July 2012</time>.
                </small>
            </p>
        </article>

    <p class="paginator">
            <a href="https://christopherthomson.github.io/index2.html" class="button small round right">older&nbsp;&nbsp;&nbsp;&rarr;</a>
    </p>
        </div>
    </div>

    <!-- footer -->
    <footer class="row">
            <div class="large-12 columns">
                <hr />
                <div class="row">
                    <div class="large-6 columns">

                        <a href="https://twitter.com/c_thomson"><img src="/theme/img/twitter.png" alt="Twitter" /></a>




                    </div>
                    <div class="large-6 columns">
                        <p class="right"><small>Powered by <a href="http://getpelican.com/">Pelican</a> and <a href="https://github.com/kfr2/pelican-foundation">Pelican-Foundation</a>. And giraffes. Because we like giraffes.&nbsp;</small></p>
                    </div>
                </div>
            </div>
    </footer>

    <script>
        document.write('<script src=' +
        ('__proto__' in {} ? 'https://christopherthomson.github.io/theme/js/vendor/zepto' : 'https://christopherthomson.github.io/theme/js/vendor/jquery') +
        '.js><\/script>')
    </script>
    <script src="https://christopherthomson.github.io/theme/js/foundation.min.js"></script>
  <!--
  <script src="js/foundation/foundation.js"></script>
  
  <script src="js/foundation/foundation.alerts.js"></script>
  
  <script src="js/foundation/foundation.clearing.js"></script>
  
  <script src="js/foundation/foundation.cookie.js"></script>
  
  <script src="js/foundation/foundation.dropdown.js"></script>
  
  <script src="js/foundation/foundation.forms.js"></script>
  
  <script src="js/foundation/foundation.joyride.js"></script>
  
  <script src="js/foundation/foundation.magellan.js"></script>
  
  <script src="js/foundation/foundation.orbit.js"></script>
  
  <script src="js/foundation/foundation.placeholder.js"></script>
  
  <script src="js/foundation/foundation.reveal.js"></script>
  
  <script src="js/foundation/foundation.section.js"></script>
  
  <script src="js/foundation/foundation.tooltips.js"></script>
  
  <script src="js/foundation/foundation.topbar.js"></script>
  
  -->
  
    <script>
        $(document).foundation();
    </script>
</body>
</html>